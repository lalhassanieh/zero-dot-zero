{% doc %}
  @prompt
    need 4 columns in each column one icon and a title, Missing the field to upload own icons

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-icon-columns-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: {{ block.settings.column_gap }}px;
    padding: {{ block.settings.section_padding }}px 0;
  }

  .ai-icon-column-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: {{ block.settings.icon_title_gap }}px;
  }

  .ai-icon-wrapper-{{ ai_gen_id }} {
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: {{ block.settings.icon_background_color }};
    border-radius: {{ block.settings.icon_border_radius }}px;
    color: {{ block.settings.icon_color }};
  }

  .ai-icon-wrapper-{{ ai_gen_id }} svg {
    width: calc({{ block.settings.icon_size }}px * 0.6);
    height: calc({{ block.settings.icon_size }}px * 0.6);
  }

  .ai-icon-wrapper-{{ ai_gen_id }} img {
    width: calc({{ block.settings.icon_size }}px * 0.6);
    height: calc({{ block.settings.icon_size }}px * 0.6);
    object-fit: contain;
  }

  .ai-icon-placeholder-{{ ai_gen_id }} {
    width: calc({{ block.settings.icon_size }}px * 0.6);
    height: calc({{ block.settings.icon_size }}px * 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    color: rgba(0, 0, 0, 0.4);
    font-size: 12px;
    text-align: center;
    padding: 8px;
  }

  .ai-column-title-{{ ai_gen_id }} {
    color: {{ block.settings.title_color }};
    font-size: {{ block.settings.title_font_size }}px;
    font-weight: {{ block.settings.title_font_weight }};
    margin: 0;
    line-height: 1.3;
  }

  @media screen and (max-width: 990px) {
    .ai-icon-columns-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
      gap: {{ block.settings.column_gap | times: 0.8 }}px;
    }
  }

  @media screen and (max-width: 749px) {
    .ai-icon-columns-{{ ai_gen_id }} {
      grid-template-columns: repeat({{ block.settings.columns_mobile }}, 1fr);
    }

    .ai-icon-wrapper-{{ ai_gen_id }} {
      width: {{ block.settings.icon_size | times: 0.8 }}px;
      height: {{ block.settings.icon_size | times: 0.8 }}px;
    }

    .ai-icon-wrapper-{{ ai_gen_id }} svg,
    .ai-icon-wrapper-{{ ai_gen_id }} img {
      width: calc({{ block.settings.icon_size | times: 0.8 }}px * 0.6);
      height: calc({{ block.settings.icon_size | times: 0.8 }}px * 0.6);
    }

    .ai-icon-placeholder-{{ ai_gen_id }} {
      width: calc({{ block.settings.icon_size | times: 0.8 }}px * 0.6);
      height: calc({{ block.settings.icon_size | times: 0.8 }}px * 0.6);
    }

    .ai-column-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_font_size | times: 0.9 }}px;
    }
  }
{% endstyle %}

<div class="ai-icon-columns-{{ ai_gen_id }}" {{ block.shopify_attributes }}><div class="ai-icon-column-{{ ai_gen_id }}">
    <div class="ai-icon-wrapper-{{ ai_gen_id }}">
      {% if block.settings.icon_1 %}
        <img
          src="{{ block.settings.icon_1 | image_url: width: 100 }}"
          alt="{{ block.settings.icon_1.alt | escape }}"
          loading="lazy"
          width="100"
          height="100"
        >
      {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 6 9 17l-5-5"/>
        </svg>
      {% endif %}
    </div>
    {% if block.settings.title_1 != blank %}
      <h3 class="ai-column-title-{{ ai_gen_id }}">{{ block.settings.title_1 }}</h3>
    {% endif %}
  </div>

  <div class="ai-icon-column-{{ ai_gen_id }}">
    <div class="ai-icon-wrapper-{{ ai_gen_id }}">
      {% if block.settings.icon_2 %}
        <img
          src="{{ block.settings.icon_2 | image_url: width: 100 }}"
          alt="{{ block.settings.icon_2.alt | escape }}"
          loading="lazy"
          width="100"
          height="100"
        >
      {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2L2 7l10 5 10-5-10-5z"/>
          <path d="m2 17 10 5 10-5"/>
          <path d="m2 12 10 5 10-5"/>
        </svg>
      {% endif %}
    </div>
    {% if block.settings.title_2 != blank %}
      <h3 class="ai-column-title-{{ ai_gen_id }}">{{ block.settings.title_2 }}</h3>
    {% endif %}
  </div>

  <div class="ai-icon-column-{{ ai_gen_id }}">
    <div class="ai-icon-wrapper-{{ ai_gen_id }}">
      {% if block.settings.icon_3 %}
        <img
          src="{{ block.settings.icon_3 | image_url: width: 100 }}"
          alt="{{ block.settings.icon_3.alt | escape }}"
          loading="lazy"
          width="100"
          height="100"
        >
      {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 11H1v3h8v3l3-3.5L9 11z"/>
          <path d="M22 12h-6"/>
          <path d="M16 16h6"/>
          <path d="M16 8h6"/>
        </svg>
      {% endif %}
    </div>
    {% if block.settings.title_3 != blank %}
      <h3 class="ai-column-title-{{ ai_gen_id }}">{{ block.settings.title_3 }}</h3>
    {% endif %}
  </div>

  <div class="ai-icon-column-{{ ai_gen_id }}">
    <div class="ai-icon-wrapper-{{ ai_gen_id }}">
      {% if block.settings.icon_4 %}
        <img
          src="{{ block.settings.icon_4 | image_url: width: 100 }}"
          alt="{{ block.settings.icon_4.alt | escape }}"
          loading="lazy"
          width="100"
          height="100"
        >
      {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <polyline points="12,6 12,12 16,14"/>
        </svg>
      {% endif %}
    </div>
    {% if block.settings.title_4 != blank %}
      <h3 class="ai-column-title-{{ ai_gen_id }}">{{ block.settings.title_4 }}</h3>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Icon columns",
  "settings": [
    {
      "type": "header",
      "content": "Column 1"
    },
    {
      "type": "image_picker",
      "id": "icon_1",
      "label": "Icon 1"
    },
    {
      "type": "text",
      "id": "title_1",
      "label": "Title 1",
      "default": "Quality"
    },
    {
      "type": "header",
      "content": "Column 2"
    },
    {
      "type": "image_picker",
      "id": "icon_2",
      "label": "Icon 2"
    },
    {
      "type": "text",
      "id": "title_2",
      "label": "Title 2",
      "default": "Fast shipping"
    },
    {
      "type": "header",
      "content": "Column 3"
    },
    {
      "type": "image_picker",
      "id": "icon_3",
      "label": "Icon 3"
    },
    {
      "type": "text",
      "id": "title_3",
      "label": "Title 3",
      "default": "Easy returns"
    },
    {
      "type": "header",
      "content": "Column 4"
    },
    {
      "type": "image_picker",
      "id": "icon_4",
      "label": "Icon 4"
    },
    {
      "type": "text",
      "id": "title_4",
      "label": "Title 4",
      "default": "24/7 support"
    },
    {
      "type": "header",
      "content": "Icon style"
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon size",
      "min": 40,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 80
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "icon_background_color",
      "label": "Icon background color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "icon_border_radius",
      "label": "Icon border radius",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 40
    },
    {
      "type": "header",
      "content": "Title style"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "label": "Title font size",
      "min": 12,
      "max": 32,
      "step": 2,
      "unit": "px",
      "default": 18
    },
    {
      "type": "select",
      "id": "title_font_weight",
      "label": "Title font weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "600"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "column_gap",
      "label": "Column gap",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "default": 30
    },
    {
      "type": "range",
      "id": "icon_title_gap",
      "label": "Icon to title gap",
      "min": 5,
      "max": 30,
      "step": 5,
      "unit": "px",
      "default": 15
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section padding",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "px",
      "default": 40
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        }
      ],
      "default": "2"
    }
  ],
  "presets": [
    {
      "name": "Icon columns"
    }
  ]
}
{% endschema %}